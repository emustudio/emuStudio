<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Assembler "as-ssem" - User documentation for emuStudio</title> <link rel="shortcut icon" href="/documentation/user/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/documentation/user/assets/css/just-the-docs.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-3492956-5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "UA-3492956-5"); </script> <script type="text/javascript" src="/documentation/user/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/documentation/user/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Assembler “as-ssem” | User documentation for emuStudio</title> <meta name="generator" content="Jekyll v3.8.7" /> <meta property="og:title" content="Assembler “as-ssem”" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <meta property="og:description" content="User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <link rel="canonical" href="/documentation/user/ssem/as-ssem" /> <meta property="og:url" content="/documentation/user/ssem/as-ssem" /> <meta property="og:site_name" content="User documentation for emuStudio" /> <script type="application/ld+json"> {"description":"User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere.","headline":"Assembler “as-ssem”","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/documentation/user/assets/logo-1.svg"}},"@type":"WebPage","url":"/documentation/user/ssem/as-ssem","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="/documentation/user" class="site-title lh-tight"> <div class="site-logo"></div> </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item active"><a href="/documentation/user/404.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/" class="navigation-list-link"></a></li><li class="navigation-list-item"><a href="/documentation/user/introduction/" class="navigation-list-link">Introduction</a></li><li class="navigation-list-item"><a href="/documentation/user/altair8800/" class="navigation-list-link">MITS Altair8800</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/altair8800/as-8080" class="navigation-list-link">Assembler as-8080</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/as-z80" class="navigation-list-link">Assembler as-z80</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/8080-cpu" class="navigation-list-link">CPU 8080-cpu</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/z80-cpu" class="navigation-list-link">CPU z80-cpu</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/standard-mem" class="navigation-list-link">Memory standard-mem</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/88-disk" class="navigation-list-link">Device 88-disk</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/88-sio" class="navigation-list-link">Device 88-sio</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/adm3a-terminal" class="navigation-list-link">Device adm3a-terminal</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/simhPseudo-z80" class="navigation-list-link">Device simhPseudo-z80</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/software" class="navigation-list-link">Original software</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/application/" class="navigation-list-link">emuStudio Application</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/application/automation" class="navigation-list-link">Automation</a></li><li class="navigation-list-item "><a href="/documentation/user/application/logging" class="navigation-list-link">Logging</a></li><li class="navigation-list-item "><a href="/documentation/user/application/opening-computer" class="navigation-list-link">Opening a computer</a></li><li class="navigation-list-item "><a href="/documentation/user/application/computer-schema" class="navigation-list-link">Computer schema</a></li><li class="navigation-list-item "><a href="/documentation/user/application/main-window" class="navigation-list-link">Main window</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/brainduck/" class="navigation-list-link">BrainDuck</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/brainduck/automation" class="navigation-list-link">Automation</a></li><li class="navigation-list-item "><a href="/documentation/user/brainduck/compiler" class="navigation-list-link">Compiler "brainc-brainduck"</a></li><li class="navigation-list-item "><a href="/documentation/user/brainduck/cpu" class="navigation-list-link">CPU "brainduck-cpu"</a></li><li class="navigation-list-item "><a href="/documentation/user/brainduck/mem" class="navigation-list-link">Memory "brainduck-mem"</a></li><li class="navigation-list-item "><a href="/documentation/user/brainduck/terminal" class="navigation-list-link">Terminal "brainduck-terminal"</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/ram/" class="navigation-list-link">RAM</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/ram/automation" class="navigation-list-link">Automation</a></li><li class="navigation-list-item "><a href="/documentation/user/ram/ramc-ram" class="navigation-list-link">Compiler "ramc-ram"</a></li><li class="navigation-list-item "><a href="/documentation/user/ram/ram-cpu" class="navigation-list-link">CPU "ram-cpu"</a></li><li class="navigation-list-item "><a href="/documentation/user/ram/ram-mem" class="navigation-list-link">Memory "ram-mem"</a></li><li class="navigation-list-item "><a href="/documentation/user/ram/abstract-tape" class="navigation-list-link">Abstract tape</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/rasp/" class="navigation-list-link">RASP</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/rasp/raspc-rasp" class="navigation-list-link">Compiler "raspc-rasp"</a></li><li class="navigation-list-item "><a href="/documentation/user/rasp/rasp-cpu" class="navigation-list-link">CPU "rasp-cpu"</a></li><li class="navigation-list-item "><a href="/documentation/user/rasp/rasp-mem" class="navigation-list-link">Memory "rasp-mem"</a></li></ul></li><li class="navigation-list-item active"><a href="/documentation/user/ssem/" class="navigation-list-link">SSEM</a><ul class="navigation-list-child-list "><li class="navigation-list-item active"><a href="/documentation/user/ssem/as-ssem" class="navigation-list-link active">Assembler "as-ssem"</a></li><li class="navigation-list-item "><a href="/documentation/user/ssem/ssem-cpu" class="navigation-list-link">CPU "ssem-cpu"</a></li><li class="navigation-list-item "><a href="/documentation/user/ssem/ssem-mem" class="navigation-list-link">Memory "ssem-mem"</a></li><li class="navigation-list-item "><a href="/documentation/user/ssem/ssem-display" class="navigation-list-link">Display "ssem-display"</a></li></ul></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search User documentation for emuStudio" aria-label="Search User documentation for emuStudio" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> <ul class="list-style-none text-small aux-nav"> <li class="d-inline-block my-0"><a href="/">Back to website</a></li> </ul> </div> <div class="page"> <nav class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/documentation/user/ssem/">SSEM</a></li> <li class="breadcrumb-nav-list-item"><span>Assembler "as-ssem"</span></li> </ol> </nav> <div id="main-content" class="page-content" role="main"> <h1 id="assembler-as-ssem"> <a href="#assembler-as-ssem" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Assembler “as-ssem” </h1> <p>Assembler “as-ssem” is a simple language which compiles SSEM instructions into binary output and SSEM memory. Source code has <code class="language-plaintext highlighter-rouge">.ssem</code> file extension, and binary form has <code class="language-plaintext highlighter-rouge">.bin</code> file extension.</p> <p>The instructions table follows (modified from <a href="https://en.wikipedia.org/wiki/Manchester_Small-Scale_Experimental_Machine#Programming" target="_blank">Wikipedia</a>):</p> <div class="table-wrapper"><table> <thead> <tr> <th>Binary code</th> <th>Mnemonic</th> <th>Action</th> <th>Operation</th> </tr> </thead> <tbody> <tr> <td>000</td> <td>JMP S</td> <td>S(L) -&gt; CI</td> <td>Jump to the instruction at the address obtained from the specified memory address <code class="language-plaintext highlighter-rouge">S(L)</code> (absolute unconditional jump)</td> </tr> <tr> <td>100</td> <td>JRP / JPR / JMR S</td> <td>CI + S(L) -&gt; CI</td> <td>Jump to the instruction at the program counter (<code class="language-plaintext highlighter-rouge">CI</code>) plus the relative value obtained from the specified memory address <code class="language-plaintext highlighter-rouge">S(L)</code> (relative unconditional jump)</td> </tr> <tr> <td>010</td> <td>LDN S</td> <td>-S(L) -&gt; A</td> <td>Take the number from the specified memory address <code class="language-plaintext highlighter-rouge">S(L)</code>, negate it, and load it into the accumulator</td> </tr> <tr> <td>110</td> <td>STO S</td> <td>A -&gt; S(L)</td> <td>Store the number in the accumulator to the specified memory address <code class="language-plaintext highlighter-rouge">S(L)</code></td> </tr> <tr> <td>001 or 101</td> <td>SUB S</td> <td>A - S(L) -&gt; A</td> <td>Subtract the number at the specified memory address <code class="language-plaintext highlighter-rouge">S(L)</code> from the value in accumulator, and store the result in the accumulator</td> </tr> <tr> <td>011</td> <td>CMP / SKN</td> <td>if A&lt;0 then CI+1-&gt;CI</td> <td>Skip next instruction if the accumulator contains a negative value</td> </tr> <tr> <td>111</td> <td>STP / HLT</td> <td>Stop</td> <td> </td> </tr> </tbody> </table></div> <p>The instructions are stored in a memory, which had 32 cells. Each cell was 32 bits long, and each instruction fit into exactly one cell. So each instruction has 32 bits. The bit representation was reversed, so the most and the least significant bits were put on opposite sides. For example, value <code class="language-plaintext highlighter-rouge">3</code>, in common personal computers represented as <code class="language-plaintext highlighter-rouge">011</code>, was in SSEM represented as <code class="language-plaintext highlighter-rouge">110</code>.</p> <p>The instruction format is as follows:</p> <div class="table-wrapper"><table> <tbody> <tr> <td><em>Bit:</em></td> <td>00</td> <td>01</td> <td>02</td> <td>03</td> <td>04</td> <td>…</td> <td>13</td> <td>14</td> <td>15</td> <td>…</td> <td>31</td> </tr> <tr> <td><em>Use:</em></td> <td>L</td> <td>L</td> <td>L</td> <td>L</td> <td>L</td> <td>0</td> <td>I</td> <td>I</td> <td>I</td> <td>0</td> <td>0</td> </tr> <tr> <td><em>Value:</em></td> <td>2^0</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td>2^31</td> </tr> </tbody> </table></div> <p>where bits <code class="language-plaintext highlighter-rouge">LLLLL</code> denote a “line”, which is basically the memory address - index of a memory cell. It can be understood as instruction operand. Bits <code class="language-plaintext highlighter-rouge">III</code> specify the instruction opcode (3 bits are enough for 7 instructions).</p> <h2 id="language-syntax"> <a href="#language-syntax" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Language syntax </h2> <h3 id="new-lines"> <a href="#new-lines" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> New-lines </h3> <p>New-line character (LF, CR, or CRLF) are delimiters of instructions, and the last character of the program. Successive empty new-line characters will be ignored.</p> <h3 id="instructions"> <a href="#instructions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Instructions </h3> <p>Assembler will support all forms of instructions. All instructions must start with a line number. For example:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>01 LDN 20
</code></pre></div></div> <h3 id="literals--constants"> <a href="#literals--constants" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Literals / constants </h3> <p>Raw number constants can be defined in separate lines using special preprocessor keywords. The first one is <code class="language-plaintext highlighter-rouge">NUM xxx</code>, where <code class="language-plaintext highlighter-rouge">xxx</code> is a number in either decimal or hexadecimal form. Hexadecimal format must start with prefix <code class="language-plaintext highlighter-rouge">0x</code>. For example:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>00 NUM 0x20
01 NUM 1207943145
</code></pre></div></div> <p>Another keyword is <code class="language-plaintext highlighter-rouge">BNUM xxx</code>, where <code class="language-plaintext highlighter-rouge">xxx</code> can be only a binary number. For example:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>01 BNUM 10011011111000101111110000111111
</code></pre></div></div> <p>It means that the number will be stored untouched to the memory in the format as it appears in the binary form.</p> <p>There exists also a third keyword, <code class="language-plaintext highlighter-rouge">BINS xxx</code>, with the exact meaning as <code class="language-plaintext highlighter-rouge">BNUM</code>.</p> <p>For all constants, the following rules hold. Only integral constants are supported, and the allowed range is from 0 - 31 (maximum is 2^5).</p> <h3 id="comments"> <a href="#comments" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Comments </h3> <p>Only one-line comments will be supported, but of various forms. Generally, comment will be everything starting with some prefix until the end of the line. Comment prefixes are:</p> <ul> <li>Double-slash (<code class="language-plaintext highlighter-rouge">//</code>)</li> <li>Semi-colon (<code class="language-plaintext highlighter-rouge">;</code>)</li> <li>Double-dash (<code class="language-plaintext highlighter-rouge">--</code>)</li> </ul> <h2 id="example"> <a href="#example" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Example </h2> <p>For example, simple <code class="language-plaintext highlighter-rouge">5+3</code> addition can be implemented as follows:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0 LDN 7 // load negative X into the accumulator
1 SUB 8 // subtract Y from the value in the accumulator
2 STO 9 // store the sum at address 7
3 LDN 9 // A = -(-Sum)
4 STO 9 // store sum
5 HLT

7 NUM 3 // X
8 NUM 5 // Y
9       // here will be the result
</code></pre></div></div> <p>The accumulator should now contain value <code class="language-plaintext highlighter-rouge">8</code>, as well as memory cell at index 9.</p> </div> </div> </div> </div> </body> </html>
