<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>CPU 8080-cpu - User documentation for emuStudio</title> <link rel="shortcut icon" href="/documentation/user/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/documentation/user/assets/css/just-the-docs.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-3492956-5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "UA-3492956-5"); </script> <script type="text/javascript" src="/documentation/user/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/documentation/user/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>CPU 8080-cpu | User documentation for emuStudio</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="CPU 8080-cpu" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <meta property="og:description" content="User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <link rel="canonical" href="/documentation/user/altair8800/8080-cpu" /> <meta property="og:url" content="/documentation/user/altair8800/8080-cpu" /> <meta property="og:site_name" content="User documentation for emuStudio" /> <script type="application/ld+json"> {"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/documentation/user/assets/logo-1.svg"}},"description":"User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere.","@type":"WebPage","url":"/documentation/user/altair8800/8080-cpu","headline":"CPU 8080-cpu","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="/documentation/user" class="site-title lh-tight"> <div class="site-logo"></div> </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item active"><a href="/documentation/user/404.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/" class="navigation-list-link"></a></li><li class="navigation-list-item"><a href="/documentation/user/introduction/" class="navigation-list-link">Introduction</a></li><li class="navigation-list-item active"><a href="/documentation/user/altair8800/" class="navigation-list-link">MITS Altair8800</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/altair8800/as-8080" class="navigation-list-link">Assembler as-8080</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/as-z80" class="navigation-list-link">Assembler as-z80</a></li><li class="navigation-list-item active"><a href="/documentation/user/altair8800/8080-cpu" class="navigation-list-link active">CPU 8080-cpu</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/z80-cpu" class="navigation-list-link">CPU z80-cpu</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/standard-mem" class="navigation-list-link">Memory standard-mem</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/88-disk" class="navigation-list-link">Device 88-disk</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/88-sio" class="navigation-list-link">Device 88-sio</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/adm3a-terminal" class="navigation-list-link">Device adm3a-terminal</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/simhPseudo-z80" class="navigation-list-link">Device simhPseudo-z80</a></li><li class="navigation-list-item "><a href="/documentation/user/altair8800/software" class="navigation-list-link">Original software</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/application/" class="navigation-list-link">emuStudio Application</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/application/automation" class="navigation-list-link">Automation</a></li><li class="navigation-list-item "><a href="/documentation/user/application/logging" class="navigation-list-link">Logging</a></li><li class="navigation-list-item "><a href="/documentation/user/application/opening-computer" class="navigation-list-link">Opening a computer</a></li><li class="navigation-list-item "><a href="/documentation/user/application/computer-schema" class="navigation-list-link">Computer schema</a></li><li class="navigation-list-item "><a href="/documentation/user/application/main-window" class="navigation-list-link">Main window</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/brainduck/" class="navigation-list-link">BrainDuck</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/brainduck/automation" class="navigation-list-link">Automation</a></li><li class="navigation-list-item "><a href="/documentation/user/brainduck/compiler" class="navigation-list-link">Compiler "brainc-brainduck"</a></li><li class="navigation-list-item "><a href="/documentation/user/brainduck/cpu" class="navigation-list-link">CPU "brainduck-cpu"</a></li><li class="navigation-list-item "><a href="/documentation/user/brainduck/mem" class="navigation-list-link">Memory "brainduck-mem"</a></li><li class="navigation-list-item "><a href="/documentation/user/brainduck/terminal" class="navigation-list-link">Terminal "brainduck-terminal"</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/ram/" class="navigation-list-link">RAM</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/ram/automation" class="navigation-list-link">Automation</a></li><li class="navigation-list-item "><a href="/documentation/user/ram/ramc-ram" class="navigation-list-link">Compiler "ramc-ram"</a></li><li class="navigation-list-item "><a href="/documentation/user/ram/ram-cpu" class="navigation-list-link">CPU "ram-cpu"</a></li><li class="navigation-list-item "><a href="/documentation/user/ram/ram-mem" class="navigation-list-link">Memory "ram-mem"</a></li><li class="navigation-list-item "><a href="/documentation/user/ram/abstract-tape" class="navigation-list-link">Abstract tape</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/rasp/" class="navigation-list-link">RASP</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/rasp/raspc-rasp" class="navigation-list-link">Compiler "raspc-rasp"</a></li><li class="navigation-list-item "><a href="/documentation/user/rasp/rasp-cpu" class="navigation-list-link">CPU "rasp-cpu"</a></li><li class="navigation-list-item "><a href="/documentation/user/rasp/rasp-mem" class="navigation-list-link">Memory "rasp-mem"</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/ssem/" class="navigation-list-link">SSEM</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/ssem/as-ssem" class="navigation-list-link">Assembler "as-ssem"</a></li><li class="navigation-list-item "><a href="/documentation/user/ssem/ssem-cpu" class="navigation-list-link">CPU "ssem-cpu"</a></li><li class="navigation-list-item "><a href="/documentation/user/ssem/ssem-mem" class="navigation-list-link">Memory "ssem-mem"</a></li><li class="navigation-list-item "><a href="/documentation/user/ssem/ssem-display" class="navigation-list-link">Display "ssem-display"</a></li></ul></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search User documentation for emuStudio" aria-label="Search User documentation for emuStudio" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> <ul class="list-style-none text-small aux-nav"> <li class="d-inline-block my-0"><a href="/">Back to website</a></li> </ul> </div> <div class="page"> <nav class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/documentation/user/altair8800/">MITS Altair8800</a></li> <li class="breadcrumb-nav-list-item"><span>CPU 8080-cpu</span></li> </ol> </nav> <div id="main-content" class="page-content" role="main"> <h1 id="intel-8080-cpu-emulator"> <a href="#intel-8080-cpu-emulator" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Intel 8080 CPU emulator </h1> <p>Altair 8800 originally came with processor <a href="https://en.wikipedia.org/wiki/Intel_8080" target="_blank">Intel 8080</a>. It is 8-bit microprocessor, from 1974. Initial clock frequency was 2 MHZ. This processor was one of the first general-purpose and widespread processors, used not only in calculators but also in first personal computers. One of the key roles why this CPU become so popular is that Gary Killdall targeted his CP/M to this CPU; and CP/M was de facto a “standard” in personal computers those days.</p> <p>Main features of the emulator include:</p> <ul> <li>Threaded-dispatch combined with interpretation as emulation technique,</li> <li>Correct real timing of instructions,</li> <li>Ability to set clock frequency manually at run-time,</li> <li>Emulation of all instructions including interrupts,</li> <li>Disassembler implementation,</li> <li>Ability to “dump” instruction history to console at run-time,</li> <li>Support of breakpoints,</li> <li>Ability of communication with up to 256 I/O devices,</li> <li>Status window shows all registers, flags, and run-time frequency.</li> </ul> <h2 id="configuration-file"> <a href="#configuration-file" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Configuration file </h2> <p>The following table shows all the possible settings of Intel 8080 CPU plugin:</p> <div class="table-wrapper"><table> <thead> <tr> <th>Name</th> <th>Default value</th> <th>Valid values</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">printCode</code></td> <td>false</td> <td>true / false</td> <td>Whether the emulator should print executed instructions, and its internal state to console (dump)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">printCodeUseCache</code></td> <td>false</td> <td>true / false</td> <td>If <code class="language-plaintext highlighter-rouge">printCode</code> is set to <code class="language-plaintext highlighter-rouge">true</code>, then a cache will be used which remembers already visited blocks of code so the instruction dump will not be bloated with infinite loops</td> </tr> </tbody> </table></div> <h2 id="dumping-executed-instructions"> <a href="#dumping-executed-instructions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Dumping executed instructions </h2> <p>The CPU offers a quite unique feature, which is the ability to dump executed instructions as a sequence to the console. When enabled, then each executed instruction - together with content of flags and registers values after the execution are printed. This feature might be extremely useful in two cases:</p> <ol> <li>Reverse engineering of some unknown software</li> <li>It allows to build tools for automatic checking of register values during the emulation, when performing automatic emulation.</li> </ol> <p>In order to enable this feature, please see the section “Configuration file”.</p> <p>For example, let’s take one of the examples which computes a reverse text:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>; Print reversed text

org 1000

dcx sp       ; stack initialization (0FFFFh)

lxi h,text1
call putstr  ; print text1
lxi d,input  ; address for string input
call getline ; read from keyboard

lxi b,input

mvi d,0      ; chars counter

char_loop:
ldax b
inx b        ; bc = bc+1
cpi 10       ; end of input?
jz char_end
cpi 13
jz char_end

inr d        ; d =d+1
jmp char_loop
char_end:

dcx b        ;  bc = bc-1
dcx b

call newline

char2_loop:
ldax b
call putchar

dcx b

dcr d
jz char2_end

jmp char2_loop
char2_end:


hlt

include 'include\getchar.inc'
include 'include\getline.inc'
include 'include\putstr.inc'
include 'include\putchar.inc'
include 'include\newline.inc'

text1: db 'Reversed text ...',10,13,'Enter text: ',0
text2: db 10,13,'Reversed: ',0
input: ds 30
</code></pre></div></div> <p>When the program is being run, and the dump instructions feature is turned on, on console you can see the following output:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0000 | PC=03e8 |       dcx SP |        3B  || regs=00 00 00 00 00 00 00 00  | flags=      | SP=ffff | PC=03e9
0001 | PC=03e9 |  lxi HL, 485 |  21 85 04  || regs=00 00 00 00 04 85 00 00  | flags=      | SP=ffff | PC=03ec
0001 | PC=03ec |     call 46D |  CD 6D 04  || regs=00 00 00 00 04 85 00 00  | flags=      | SP=fffd | PC=046d
0002 | PC=046d |     mov A, M |        7E  || regs=00 00 00 00 04 85 00 52  | flags=      | SP=fffd | PC=046e
0002 | PC=046e |       inx HL |        23  || regs=00 00 00 00 04 86 00 52  | flags=      | SP=fffd | PC=046f
0003 | PC=046f |        cpi 0 |     FE 00  || regs=00 00 00 00 04 86 00 52  | flags=      | SP=fffd | PC=0471
0004 | PC=0471 |           rz |        C8  || regs=00 00 00 00 04 86 00 52  | flags=      | SP=fffd | PC=0472
0005 | PC=0472 |       out 11 |     D3 11  || regs=00 00 00 00 04 86 00 52  | flags=      | SP=fffd | PC=0474
0006 | PC=0474 |      jmp 46D |  C3 6D 04  || regs=00 00 00 00 04 86 00 52  | flags=      | SP=fffd | PC=046d
0006 | PC=046d |     mov A, M |        7E  || regs=00 00 00 00 04 86 00 65  | flags=      | SP=fffd | PC=046e
0024 | Block from 0474 to 03EF; count=184
0024 | PC=03ef |  lxi DE, 4B2 |  11 B2 04  || regs=00 00 04 b2 04 a5 00 00  | flags= Z P  | SP=ffff | PC=03f2
0025 | PC=03f2 |     call 428 |  CD 28 04  || regs=00 00 04 b2 04 a5 00 00  | flags= Z P  | SP=fffd | PC=0428
0025 | PC=0428 |     mvi C, 0 |     0E 00  || regs=00 00 04 b2 04 a5 00 00  | flags= Z P  | SP=fffd | PC=042a
0025 | PC=042a |        in 10 |     DB 10  || regs=00 00 04 b2 04 a5 00 00  | flags= Z P  | SP=fffd | PC=042c
0026 | PC=042c |        ani 1 |     E6 01  || regs=00 00 04 b2 04 a5 00 00  | flags= Z P  | SP=fffd | PC=042e
0026 | PC=042e |       jz 42A |  CA 2A 04  || regs=00 00 04 b2 04 a5 00 00  | flags= Z P  | SP=fffd | PC=042a
0027 | PC=042a |        in 10 |     DB 10  || regs=00 00 04 b2 04 a5 00 00  | flags= Z P  | SP=fffd | PC=042c
1548 | Block from 042E to 0431; count=181125
1548 | PC=0431 |        in 11 |     DB 11  || regs=00 00 04 b2 04 a5 00 68  | flags=      | SP=fffd | PC=0433
1548 | PC=0433 |        cpi D |     FE 0D  || regs=00 00 04 b2 04 a5 00 68  | flags=      | SP=fffd | PC=0435
1548 | PC=0435 |       jz 461 |  CA 61 04  || regs=00 00 04 b2 04 a5 00 68  | flags=      | SP=fffd | PC=0438
1548 | PC=0438 |        cpi A |     FE 0A  || regs=00 00 04 b2 04 a5 00 68  | flags=      | SP=fffd | PC=043a
1549 | PC=043a |       jz 461 |  CA 61 04  || regs=00 00 04 b2 04 a5 00 68  | flags=      | SP=fffd | PC=043d
1549 | PC=043d |        cpi 8 |     FE 08  || regs=00 00 04 b2 04 a5 00 68  | flags=  AP  | SP=fffd | PC=043f
1549 | PC=043f |      jnz 459 |  C2 59 04  || regs=00 00 04 b2 04 a5 00 68  | flags=  AP  | SP=fffd | PC=0459
1549 | PC=0459 |       out 11 |     D3 11  || regs=00 00 04 b2 04 a5 00 68  | flags=  AP  | SP=fffd | PC=045b
1549 | PC=045b |      stax DE |        12  || regs=00 00 04 b2 04 a5 00 68  | flags=  AP  | SP=fffd | PC=045c
1549 | PC=045c |       inx DE |        13  || regs=00 00 04 b3 04 a5 00 68  | flags=  AP  | SP=fffd | PC=045d
1549 | PC=045d |        inr C |        0C  || regs=00 01 04 b3 04 a5 00 68  | flags=      | SP=fffd | PC=045e
1549 | PC=045e |      jmp 42A |  C3 2A 04  || regs=00 01 04 b3 04 a5 00 68  | flags=      | SP=fffd | PC=042a
1550 | PC=042a |        in 10 |     DB 10  || regs=00 01 04 b3 04 a5 00 00  | flags=      | SP=fffd | PC=042c
2940 | Block from 045E to 0461; count=267777
2940 | PC=0461 |     mvi A, A |     3E 0A  || regs=00 05 04 b7 04 a5 00 0a  | flags= ZAP  | SP=fffd | PC=0463
2940 | PC=0463 |      stax DE |        12  || regs=00 05 04 b7 04 a5 00 0a  | flags= ZAP  | SP=fffd | PC=0464
2940 | PC=0464 |       inx DE |        13  || regs=00 05 04 b8 04 a5 00 0a  | flags= ZAP  | SP=fffd | PC=0465
2940 | PC=0465 |     mvi A, D |     3E 0D  || regs=00 05 04 b8 04 a5 00 0d  | flags= ZAP  | SP=fffd | PC=0467
2940 | PC=0467 |      stax DE |        12  || regs=00 05 04 b8 04 a5 00 0d  | flags= ZAP  | SP=fffd | PC=0468
2940 | PC=0468 |       inx DE |        13  || regs=00 05 04 b9 04 a5 00 0d  | flags= ZAP  | SP=fffd | PC=0469
2940 | PC=0469 |     mvi A, 0 |     3E 00  || regs=00 05 04 b9 04 a5 00 00  | flags= ZAP  | SP=fffd | PC=046b
2941 | PC=046b |      stax DE |        12  || regs=00 05 04 b9 04 a5 00 00  | flags= ZAP  | SP=fffd | PC=046c
2941 | PC=046c |          ret |        C9  || regs=00 05 04 b9 04 a5 00 00  | flags= ZAP  | SP=ffff | PC=03f5
2941 | PC=03f5 |  lxi BC, 4B2 |  01 B2 04  || regs=04 b2 04 b9 04 a5 00 00  | flags= ZAP  | SP=ffff | PC=03f8
2941 | PC=03f8 |     mvi D, 0 |     16 00  || regs=04 b2 00 b9 04 a5 00 00  | flags= ZAP  | SP=ffff | PC=03fa
2941 | PC=03fa |      ldax BC |        0A  || regs=04 b2 00 b9 04 a5 00 68  | flags= ZAP  | SP=ffff | PC=03fb
2941 | PC=03fb |       inx BC |        03  || regs=04 b3 00 b9 04 a5 00 68  | flags= ZAP  | SP=ffff | PC=03fc
2941 | PC=03fc |        cpi A |     FE 0A  || regs=04 b3 00 b9 04 a5 00 68  | flags=      | SP=ffff | PC=03fe
2941 | PC=03fe |       jz 40A |  CA 0A 04  || regs=04 b3 00 b9 04 a5 00 68  | flags=      | SP=ffff | PC=0401
2942 | PC=0401 |        cpi D |     FE 0D  || regs=04 b3 00 b9 04 a5 00 68  | flags=      | SP=ffff | PC=0403
2942 | PC=0403 |       jz 40A |  CA 0A 04  || regs=04 b3 00 b9 04 a5 00 68  | flags=      | SP=ffff | PC=0406
2942 | PC=0406 |        inr D |        14  || regs=04 b3 01 b9 04 a5 00 68  | flags=      | SP=ffff | PC=0407
2942 | PC=0407 |      jmp 3FA |  C3 FA 03  || regs=04 b3 01 b9 04 a5 00 68  | flags=      | SP=ffff | PC=03fa
2942 | PC=03fa |      ldax BC |        0A  || regs=04 b3 01 b9 04 a5 00 65  | flags=      | SP=ffff | PC=03fb
2942 | Block from 0407 to 040A; count=36
2942 | PC=040a |       dcx BC |        0B  || regs=04 b7 05 b9 04 a5 00 0a  | flags= ZAP  | SP=ffff | PC=040b
2943 | PC=040b |       dcx BC |        0B  || regs=04 b6 05 b9 04 a5 00 0a  | flags= ZAP  | SP=ffff | PC=040c
2943 | PC=040c |     call 47A |  CD 7A 04  || regs=04 b6 05 b9 04 a5 00 0a  | flags= ZAP  | SP=fffd | PC=047a
2943 | PC=047a |     mvi A, A |     3E 0A  || regs=04 b6 05 b9 04 a5 00 0a  | flags= ZAP  | SP=fffd | PC=047c
2943 | PC=047c |     call 477 |  CD 77 04  || regs=04 b6 05 b9 04 a5 00 0a  | flags= ZAP  | SP=fffb | PC=0477
2943 | PC=0477 |       out 11 |     D3 11  || regs=04 b6 05 b9 04 a5 00 0a  | flags= ZAP  | SP=fffb | PC=0479
2943 | PC=0479 |          ret |        C9  || regs=04 b6 05 b9 04 a5 00 0a  | flags= ZAP  | SP=fffd | PC=047f
2943 | PC=047f |     mvi A, D |     3E 0D  || regs=04 b6 05 b9 04 a5 00 0d  | flags= ZAP  | SP=fffd | PC=0481
2943 | PC=0481 |     call 477 |  CD 77 04  || regs=04 b6 05 b9 04 a5 00 0d  | flags= ZAP  | SP=fffb | PC=0477
2943 | PC=0477 |       out 11 |     D3 11  || regs=04 b6 05 b9 04 a5 00 0d  | flags= ZAP  | SP=fffb | PC=0479
2943 | Block from 0481 to 0484; count=2
2943 | PC=0484 |          ret |        C9  || regs=04 b6 05 b9 04 a5 00 0d  | flags= ZAP  | SP=ffff | PC=040f
2944 | PC=040f |      ldax BC |        0A  || regs=04 b6 05 b9 04 a5 00 6f  | flags= ZAP  | SP=ffff | PC=0410
2944 | PC=0410 |     call 477 |  CD 77 04  || regs=04 b6 05 b9 04 a5 00 6f  | flags= ZAP  | SP=fffd | PC=0477
2944 | PC=0477 |       out 11 |     D3 11  || regs=04 b6 05 b9 04 a5 00 6f  | flags= ZAP  | SP=fffd | PC=0479
2944 | Block from 0410 to 0413; count=2
2944 | PC=0413 |       dcx BC |        0B  || regs=04 b5 05 b9 04 a5 00 6f  | flags= ZAP  | SP=ffff | PC=0414
2944 | PC=0414 |        dcr D |        15  || regs=04 b5 04 b9 04 a5 00 6f  | flags=  A   | SP=ffff | PC=0415
2944 | PC=0415 |       jz 41B |  CA 1B 04  || regs=04 b5 04 b9 04 a5 00 6f  | flags=  A   | SP=ffff | PC=0418
2944 | PC=0418 |      jmp 40F |  C3 0F 04  || regs=04 b5 04 b9 04 a5 00 6f  | flags=  A   | SP=ffff | PC=040f
2944 | PC=040f |      ldax BC |        0A  || regs=04 b5 04 b9 04 a5 00 6c  | flags=  A   | SP=ffff | PC=0410
2945 | Block from 0418 to 041B; count=31
2945 | PC=041b |          hlt |        76  || regs=04 b1 00 b9 04 a5 00 68  | flags= ZAP  | SP=ffff | PC=041c
</code></pre></div></div> <p>The dump format consists of lines, each line represents one instruction execution. The line is separated by <code class="language-plaintext highlighter-rouge">|</code> chars, splitting it into so-called sections. Sections before the sequence <code class="language-plaintext highlighter-rouge">||</code> represent state <em>before</em> instruction execution, and sections after it represent the state <em>after</em> instruction execution. Particular sections are described in the following table.</p> <div class="table-wrapper"><table> <thead> <tr> <th>Column</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>Timestamp from program start (seconds)</td> </tr> <tr> <td>2</td> <td>Program counter before instruction execution</td> </tr> <tr> <td>3</td> <td>Disassembled instruction</td> </tr> <tr> <td>4</td> <td>Instruction opcodes</td> </tr> <tr> <td> </td> <td>Now follows the state <em>after</em> instruction execution</td> </tr> <tr> <td>5</td> <td>Register values (<code class="language-plaintext highlighter-rouge">B</code>,<code class="language-plaintext highlighter-rouge">C</code>,<code class="language-plaintext highlighter-rouge">D</code>,<code class="language-plaintext highlighter-rouge">E</code>,<code class="language-plaintext highlighter-rouge">H</code>,<code class="language-plaintext highlighter-rouge">L</code>, reserved (always 0), <code class="language-plaintext highlighter-rouge">A</code>)</td> </tr> <tr> <td>6</td> <td>Flags</td> </tr> <tr> <td>7</td> <td>Stack pointer register (<code class="language-plaintext highlighter-rouge">SP</code>)</td> </tr> <tr> <td>8</td> <td>Program counter after instruction execution</td> </tr> </tbody> </table></div> </div> </div> </div> </div> </body> </html>
