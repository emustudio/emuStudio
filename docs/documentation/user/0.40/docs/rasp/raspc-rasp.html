<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title> - User documentation for emuStudio 0.40</title> <link rel="shortcut icon" href="/documentation/user/0.40/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/documentation/user/0.40/assets/css/just-the-docs.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-3492956-5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "UA-3492956-5"); </script> <script type="text/javascript" src="/documentation/user/0.40/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/documentation/user/0.40/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>User documentation for emuStudio 0.40 | User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere.</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="User documentation for emuStudio 0.40" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <meta property="og:description" content="User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <link rel="canonical" href="/documentation/user/0.40/docs/rasp/raspc-rasp.html" /> <meta property="og:url" content="/documentation/user/0.40/docs/rasp/raspc-rasp.html" /> <meta property="og:site_name" content="User documentation for emuStudio 0.40" /> <script type="application/ld+json"> {"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/documentation/user/0.40/assets/logo-1.svg"}},"description":"User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere.","@type":"WebPage","headline":"User documentation for emuStudio 0.40","url":"/documentation/user/0.40/docs/rasp/raspc-rasp.html","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="/documentation/user/0.40" class="site-title lh-tight"> <div class="site-logo"></div> </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item active"><a href="/documentation/user/0.40/404.html" class="navigation-list-link"></a></li><li class="navigation-list-item"><a href="/documentation/user/0.40/about/" class="navigation-list-link">About emuStudio</a></li><li class="navigation-list-item active"><a href="/documentation/user/0.40/docs/ram/abstractTape-ram.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.40/" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.40/docs/ram/ram-cpu.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.40/docs/ram/ram-intro.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.40/docs/ram/ram-mem.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.40/docs/ram/ramc-ram.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.40/docs/rasp/rasp-cpu.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.40/docs/rasp/rasp-intro.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.40/docs/rasp/rasp-mem.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.40/docs/rasp/raspc-rasp.html" class="navigation-list-link active"></a></li><li class="navigation-list-item"><a href="/documentation/user/0.40/docs/main-module/" class="navigation-list-link">Main module</a><ul class="navigation-list-child-list "></ul></li><li class="navigation-list-item"><a href="/documentation/user/0.40/docs/mits_altair_8800/" class="navigation-list-link">MITS Altair8800</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/mits_altair_8800/as-8080.html" class="navigation-list-link">Assembler as-8080</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/mits_altair_8800/as-z80.html" class="navigation-list-link">Assembler as-z80</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/mits_altair_8800/8080-cpu.html" class="navigation-list-link">CPU 8080-cpu</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/mits_altair_8800/z80-cpu.html" class="navigation-list-link">CPU z80-cpu</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/mits_altair_8800/standard-mem.html" class="navigation-list-link">Memory standard-mem</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/mits_altair_8800/88-disk.html" class="navigation-list-link">Device 88-disk</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/mits_altair_8800/88-sio.html" class="navigation-list-link">Device 88-sio</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/mits_altair_8800/adm3a-terminal.html" class="navigation-list-link">Device adm3a-terminal</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/mits_altair_8800/simhPseudo-z80.html" class="navigation-list-link">Device simhPseudo-z80</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/mits_altair_8800/software.html" class="navigation-list-link">Original software</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/0.40/docs/brainduck/" class="navigation-list-link">BrainDuck</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/brainduck/brainc-compiler.html" class="navigation-list-link">Compiler</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/brainduck/brainduck-cpu.html" class="navigation-list-link">CPU</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/brainduck/brainduck-mem.html" class="navigation-list-link">Memory</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/brainduck/brainduck-terminal.html" class="navigation-list-link">Terminal</a></li><li class="navigation-list-item "><a href="/documentation/user/0.40/docs/brainduck/automation.html" class="navigation-list-link">Automation</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/0.40/docs/ram/" class="navigation-list-link">RAM</a></li><li class="navigation-list-item"><a href="/documentation/user/0.40/docs/rasp/" class="navigation-list-link">RASP</a></li><li class="navigation-list-item"><a href="/documentation/user/0.40/docs/ssem/" class="navigation-list-link">SSEM</a></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search User documentation for emuStudio 0.40" aria-label="Search User documentation for emuStudio 0.40" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> <ul class="list-style-none text-small aux-nav"> <li class="d-inline-block my-0"><a href="/">Back to website</a></li> </ul> </div> <div class="page"> <div id="main-content" class="page-content" role="main"> <div class="sect1"> <h2 id="compiler-code-raspc-rasp-code"> <a href="#compiler-code-raspc-rasp-code" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Compiler <code>raspc-rasp</code> </h2> <div class="sectionbody"> <div class="paragraph"> <p>RASP compiler is included in the architecture of RASP virtual computer in emuStudio. Its purpose is to translate source code of a RASP program into the form executable by the RASP CPU emulator.</p> </div> <div class="paragraph"> <p>It includes lexical analyzer which is responsibe for recognising lexical units within the source code. It also enables syntax highlighting. Then, the code goes through syntax analysis which checks for syntax errors and builds up the syntactic tree. The tree is then passed through and binary code executable by the emulator is generated.</p> </div> <div class="paragraph"> <p>As with the other emuStudio compilers, you start the compilation by the "Compile source" icon in the main menu. The result of the compilation is saved into a binary file with the <code>.bin</code> extension and also loaded into the RASP operating memory.</p> </div> <div class="sect2"> <h3 id="installation-and-run"> <a href="#installation-and-run" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Installation and run </h3> <div class="paragraph"> <p>RASP compiler plugin is already included in emuStudio distribution, in location <code>compilers/raspc-rasp.jar</code>.</p> </div> </div> <div class="sect2"> <h3 id="language-syntax"> <a href="#language-syntax" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Language syntax </h3> <div class="sect3"> <h4 id="program-start-definition"> <a href="#program-start-definition" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Program start definition </h4> <div class="paragraph"> <p>As RASP is a von-Neumann computer, both the program and the data reside in the same memory module. Therefore, we need to clearly specify, where the program start address is as CPU must know where to start emulation. We do so by the <code>org</code> directive followed by a positive ineteger. Program start definition <strong>must</strong> be the <strong>first line</strong> of the source code. Please, <strong>do not</strong> place any <strong>empty lines</strong> before it. Here, an example follows:</p> </div> <div class="paragraph"> <p><code>org 5</code></p> </div> <div class="admonitionblock warning"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td> <td class="content"> If you do not specify the program start address, or if you set it to <code>0</code> (<code>org 0</code>), the default pre-set value will be used, which is <code>20</code>. The compiler will warn you about this, so do not worry. Setting program start to <code>0</code> is not allowed as register <code>R0</code> is used as the <strong>accumulator</strong> and therefore any instruction written here would be overwritten sooner or later. </td> </tr> </table></div> </div> </div> <div class="sect3"> <h4 id="supported-instructions"> <a href="#supported-instructions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Supported instructions </h4> <div class="paragraph"> <p>All RASP emulator supported instructions together with their semantics are available in the RASP CPU documentation. There are three types of operands of those instructions:</p> </div> <div class="ulist"> <ul> <li> <p>register - e.g. <code>READ 1</code></p> </li> <li> <p>constant - e.g. <code>WRITE =2</code> - you specify that operand of an instruction should be interpreted as a constant by the <code>=</code> character.</p> </li> <li> <p>label, which is operand of jump instructions (<code>JMP</code>, <code>JZ</code>, <code>JGTZ</code>), e.g. <code>JMP <strong>label</strong></code></p> </li> </ul> </div> </div> <div class="sect3"> <h4 id="line-of-code-structure"> <a href="#line-of-code-structure" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Line of code structure </h4> <div class="paragraph"> <p>Each RASP instruction with its operand <strong>MUST</strong> be on a separate line, otherwise the code will not compile.</p> </div> <div class="paragraph"> <p>A single line of code consists of <strong>instruction</strong> followed by its <strong>operand</strong>. The line can be optionally started with a <strong>label</strong>. It is possible to put the label and the instruction on two separate lines, however, please, <strong>do not</strong> place any <strong>empy lines</strong> between the label and the instruction.</p> </div> <div class="paragraph"> <p>Example (<code>WRITE 2</code> can be on a separate line):</p> </div> <div class="paragraph"> <p><code><strong>labelName:</strong> WRITE 2</code></p> </div> </div> <div class="sect3"> <h4 id="comments"> <a href="#comments" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Comments </h4> <div class="paragraph"> <p>RASP compiler supports one-line comments. You start them with a semicolon (<code>;</code>):</p> </div> <div class="paragraph"> <p><code>;this is a comment</code></p> </div> <div class="paragraph"> <p>You can append a comment to an existing line, e.g.</p> </div> <div class="paragraph"> <p><code>write 2 <em>;comment</em></code></p> </div> <div class="paragraph"> <p>or put it on a completely new line.</p> </div> </div> </div> </div> </div> </div> </div> </div> </div> </body> </html>
