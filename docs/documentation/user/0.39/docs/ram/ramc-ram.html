<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title> - User documentation for emuStudio 0.39</title> <link rel="shortcut icon" href="/documentation/user/0.39/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/documentation/user/0.39/assets/css/just-the-docs.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-3492956-5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "UA-3492956-5"); </script> <script type="text/javascript" src="/documentation/user/0.39/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/documentation/user/0.39/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>User documentation for emuStudio 0.39 | User documentation for emuStudio 0.39. emuStudio is universal emulation platform and framework targeting mainly academic sphere.</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="User documentation for emuStudio 0.39" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="User documentation for emuStudio 0.39. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <meta property="og:description" content="User documentation for emuStudio 0.39. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <link rel="canonical" href="/documentation/user/0.39/docs/ram/ramc-ram.html" /> <meta property="og:url" content="/documentation/user/0.39/docs/ram/ramc-ram.html" /> <meta property="og:site_name" content="User documentation for emuStudio 0.39" /> <script type="application/ld+json"> {"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/documentation/user/0.39/assets/logo-1.svg"}},"description":"User documentation for emuStudio 0.39. emuStudio is universal emulation platform and framework targeting mainly academic sphere.","@type":"WebPage","headline":"User documentation for emuStudio 0.39","url":"/documentation/user/0.39/docs/ram/ramc-ram.html","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="/documentation/user/0.39" class="site-title lh-tight"> <div class="site-logo"></div> </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item active"><a href="/documentation/user/0.39/404.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.39/docs/ram/abstractTape-ram.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.39/" class="navigation-list-link"></a></li><li class="navigation-list-item"><a href="/documentation/user/0.39/introduction/" class="navigation-list-link">Introduction</a></li><li class="navigation-list-item active"><a href="/documentation/user/0.39/docs/ram/ram-cpu.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.39/docs/ram/ram-intro.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.39/docs/ram/ram-mem.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.39/docs/ram/ramc-ram.html" class="navigation-list-link active"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.39/docs/rasp/rasp-cpu.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.39/docs/rasp/rasp-intro.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.39/docs/rasp/rasp-mem.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="/documentation/user/0.39/docs/rasp/raspc-rasp.html" class="navigation-list-link"></a></li><li class="navigation-list-item"><a href="/documentation/user/0.39/docs/main-module/" class="navigation-list-link">Main module</a><ul class="navigation-list-child-list "></ul></li><li class="navigation-list-item"><a href="/documentation/user/0.39/docs/mits_altair_8800/" class="navigation-list-link">MITS Altair8800</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/mits_altair_8800/as-8080.html" class="navigation-list-link">Assembler as-8080</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/mits_altair_8800/as-z80.html" class="navigation-list-link">Assembler as-z80</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/mits_altair_8800/8080-cpu.html" class="navigation-list-link">CPU 8080-cpu</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/mits_altair_8800/z80-cpu.html" class="navigation-list-link">CPU z80-cpu</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/mits_altair_8800/standard-mem.html" class="navigation-list-link">Memory standard-mem</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/mits_altair_8800/88-disk.html" class="navigation-list-link">Device 88-disk</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/mits_altair_8800/88-sio.html" class="navigation-list-link">Device 88-sio</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/mits_altair_8800/adm3a-terminal.html" class="navigation-list-link">Device adm3a-terminal</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/mits_altair_8800/simhPseudo-z80.html" class="navigation-list-link">Device simhPseudo-z80</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/mits_altair_8800/software.html" class="navigation-list-link">Original software</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/0.39/docs/brainduck/" class="navigation-list-link">BrainDuck</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/brainduck/brainc-compiler.html" class="navigation-list-link">Compiler</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/brainduck/brainduck-cpu.html" class="navigation-list-link">CPU</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/brainduck/brainduck-mem.html" class="navigation-list-link">Memory</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/brainduck/brainduck-terminal.html" class="navigation-list-link">Terminal</a></li><li class="navigation-list-item "><a href="/documentation/user/0.39/docs/brainduck/automation.html" class="navigation-list-link">Automation</a></li></ul></li><li class="navigation-list-item"><a href="/documentation/user/0.39/docs/ram/" class="navigation-list-link">RAM</a></li><li class="navigation-list-item"><a href="/documentation/user/0.39/docs/rasp/" class="navigation-list-link">RASP</a></li><li class="navigation-list-item"><a href="/documentation/user/0.39/docs/ssem/" class="navigation-list-link">SSEM</a></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search User documentation for emuStudio 0.39" aria-label="Search User documentation for emuStudio 0.39" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> <ul class="list-style-none text-small aux-nav"> <li class="d-inline-block my-0"><a href="/">Back to website</a></li> </ul> </div> <div class="page"> <div id="main-content" class="page-content" role="main"> <div class="sect1"> <h2 id="compiler-for-ram-machine"> <a href="#compiler-for-ram-machine" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Compiler for RAM machine </h2> <div class="sectionbody"> <div class="paragraph"> <p>RAM has a very simple assembler-like language, consisting of direct and indirect reading/writing from/to registers or input/output tape. In addition, there are three control-flow instructions.</p> </div> <div class="sect2"> <h3 id="installation-and-run"> <a href="#installation-and-run" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Installation and run </h3> <div class="paragraph"> <p>The compiler is provided as part of emuStudio. It is not deployed as individual package. The compiler can be found in <code>compilers/</code> directory with name <code>ramc-ram.jar</code>.</p> </div> </div> <div class="sect2"> <h3 id="language-description"> <a href="#language-description" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Language description </h3> <div class="paragraph"> <p>The program written for this compiler consists of two sections:</p> </div> <div class="literalblock"> <div class="content"><pre>INPUT section
INSTRUCTIONS section</pre></div> </div> <div class="sect3"> <h4 id="RAM-INPUT_SECTION"> <a href="#RAM-INPUT_SECTION" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Input section </h4> <div class="paragraph"> <p>The <code>INPUT</code> section contains definitions the content of input tape - one or more lines in the form:</p> </div> <div class="literalblock"> <div class="content"><pre>&lt;input&gt; ITEMS</pre></div> </div> <div class="paragraph"> <p>where <code>ITEMS</code> is a space-separated list of inputs. Each input is one word - it might be any number or string. By default, every cell in the input tape is a string, and it is not interpreted as some data type. It is only in time when it is used - the instruction which works with the cell defines of which "type" it should be.</p> </div> <div class="paragraph"> <p>For example, input section might be:</p> </div> <div class="literalblock"> <div class="content"><pre>&lt;input&gt; 1 2 3 hello world!</pre></div> </div> <div class="paragraph"> <p>In this case, there are five inputs: numbers 1,2,3, then word "hello" and the last one is "world!".</p> </div> </div> <div class="sect3"> <h4 id="instructions-section"> <a href="#instructions-section" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Instructions section </h4> <div class="paragraph"> <p>There exist many possible formats or variations of RAM instructions, unfortunately the syntax is not very unified. I guess the reason is that RAM is not a real machine, and for the purposes of the algorithm analysis the machine is so simple that it&#8217;s description is repeated in almost every paper where it appears.</p> </div> <div class="paragraph"> <p>For this reason, instructions format or the whole vocabulary might be different of what you expected or used for. We have to live with it; but the differences are really small.</p> </div> <div class="paragraph"> <p>Instructions should follow the <a href="#RAM-INPUT_SECTION">Input section</a>, but the sections can be mixed. It is just good practice to have input separated from the code. Each instruction must be on separate line, in the form:</p> </div> <div class="literalblock"> <div class="content"><pre>[LABEL:] INSTRUCTION [; optional comment]</pre></div> </div> <div class="paragraph"> <p>Each instruction position can be optionally labelled with some identifier (<code>LABEL</code> field), followed by a colon (<code>:</code>) character. The labels can be then referred in other instructions.</p> </div> <div class="paragraph"> <p>Comments begin with a semicolon (<code>;</code>) character and continue to the end of the line. There are no multi-line comments.</p> </div> <div class="paragraph"> <p>Instructions consists of the operation code and optional operand, separated with space (` `).</p> </div> <div class="paragraph"> <p>Operation code is expressed as an abbreviation of corresponding operation (e.g. <code>SUB</code> for SUBtraction). Operand can be one of three types: constant (<code>=i</code>), direct operand (<code>i</code>), where <code>i</code> specifies the register index on tape and indirect operand (<code>*i</code>), where the address of operand specified is stored in register <em>R<sub>i</sub></em>.</p> </div> <div class="paragraph"> <p>The following table describes all possible instructions, usable in the RAM simulator:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all spread table table-striped table-condensed"> <colgroup> <col style="width: 25%;"> <col style="width: 25%;"> <col style="width: 25%;"> <col style="width: 25%;"> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top"></th> <th class="tableblock halign-left valign-top"><em>=i</em></th> <th class="tableblock halign-left valign-top"><em>i</em></th> <th class="tableblock halign-left valign-top"><em>*i</em></th> </tr> </thead> <tfoot> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>HALT</code></p></td> <td class="tableblock halign-left valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">halts the simulation</p></td> <td class="tableblock halign-left valign-top"></td> </tr> </tfoot> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>READ</code></p></td> <td class="tableblock halign-left valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>i</sub></em> &#8592; next input</p></td> <td class="tableblock halign-left valign-top"></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>WRITE</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">output &#8592; <em>i</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">output &#8592; <em>R<sub>i</sub></em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">output &#8592; <em>M&lt;R<sub>i</sub>&gt;</em></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>LOAD</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>i</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>i</sub></em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>M&lt;R<sub>i</sub>&gt;</em></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>STORE</code></p></td> <td class="tableblock halign-left valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>i</sub></em> &#8592; <em>R<sub>0</sub></em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>M&lt;R<sub>i</sub>&gt;</em> &#8592; <em>R<sub>0</sub></em></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>ADD</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> + <em>i</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> + <em>R<sub>i</sub></em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> + <em>M&lt;R<sub>i</sub>&gt;</em></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>SUB</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> - <em>i</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> - <em>R<sub>i</sub></em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> - <em>M&lt;R<sub>i</sub>&gt;</em></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>MUL</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> * <em>i</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> * <em>R<sub>i</sub></em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> * <em>M&lt;R<sub>i</sub>&gt;</em></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>DIV</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> / <em>i</em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> / <em>R<sub>i</sub></em></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>R<sub>0</sub></em> &#8592; <em>R<sub>0</sub></em> / <em>M&lt;R<sub>i</sub>&gt;</em></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>JMP</code></p></td> <td class="tableblock halign-left valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>IP</em> &#8592; <em>i</em></p></td> <td class="tableblock halign-left valign-top"></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>JZ</code></p></td> <td class="tableblock halign-left valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>if</strong> <em>R<sub>0</sub></em> == 0 <strong>then</strong> <em>IP</em> &#8592; <em>i</em></p></td> <td class="tableblock halign-left valign-top"></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>JGTZ</code></p></td> <td class="tableblock halign-left valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>if</strong> <em>R<sub>0</sub></em> &gt; 0 <strong>then</strong> <em>IP</em> &#8592; <em>i</em></p></td> <td class="tableblock halign-left valign-top"></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>The table describes also the behavior of each instruction. Compiler does not care about the behavior, but about the instructions syntax, which is also incorporated in the table.</p> </div> <div class="paragraph"> <p>For example, this is a valid program:</p> </div> <div class="listingblock"> <div class="content"><pre>; COPY(X,Y)
;
; input:  X -&gt; r1
;         Y -&gt; r2
;
; output: X -&gt; Y
;         Y -&gt; Y

&lt;input&gt; 3 4 world hello

&lt;input&gt; sss
; load X,Y
read 1
read 2

; load r.X, r.Y
read *1
read *2

; copy
load *2
store *1

halt</pre></div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </body> </html>
