






<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <title>BrainDuck: Emulator of brainfuck &diams; emuStudio</title>
    <meta name="keywords" content="emulator,emulation,emustudio,programming emulator,debugging in emulator,computer emulation,altair emulation">

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="emuStudio &diams; Computer emulation platform/framework" href="../../../feed.xml">
    <link rel="alternate" type="application/atom+xml" title="emuStudio &diams; Computer emulation platform/framework" href="../../../atom.xml">

    <!-- Favicons -->
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico?">
    <meta name="application-name" content="emuStudio &diams; Computer emulation platform/framework">
    <meta name="msapplication-TileColor" content="#ffffff">

    <!-- Fonts -->
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto+Condensed:300,300italic,400,400italic,700,700italic|Oswald:300,400,700">

    <!-- Styles -->
    <link rel="stylesheet" href="../../../css/style.css">

    <link rel="stylesheet" href="../../../css/bootstrap-toc.min.css">
    <link rel="stylesheet" href="../../../fonts/font-awesome.min.css">


    <!-- Scripts -->

    <!--[if lt IE 9]>
        <script src="../../../js/html5shiv.min.js"></script>
        <script src="../../../js/respond.min.js"></script>
    [endif]-->

    <script src="../../../js/jquery-3.1.1.min.js"></script>
    <script src="../../../js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous">
    </script>

    <script src="../../../js/bootstrap-toc.min.js"></script>


    <script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-3492956-5', 'auto');
        ga('send', 'pageview');

    </script>
</head>


<body data-spy="scroll" data-target="#toc">


<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/emuStudio/"><i><img alt="&diams;" style="margin: -5px;margin-right:2px;" src="../../../img/logo-2.svg" width="30px" /></i>emuStudio</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <!--<form class="navbar-form navbar-left" role="search">-->
                <!--<div class="form-group">-->
                    <!--<input type="text" class="form-control" placeholder="Search website">-->
                <!--</div>-->
                <!--<button type="submit" class="btn btn-default">Submit</button>-->
            <!--</form>-->
            <ul class="nav navbar-nav navbar-right">
                
                <li>
                    <a href="/emuStudio/">Home</a>
                </li>
                
                <li>
                    <a href="/emuStudio/download">Download</a>
                </li>
                
                <li>
                    <a href="/emuStudio/docs">Docs</a>
                </li>
                
                <li>
                    <a href="/emuStudio/devel">Developer</a>
                </li>
                
                <li>
                    <a href="/emuStudio/roadmap">Roadmap</a>
                </li>
                
                <li>
                    <a href="/emuStudio/about">About</a>
                </li>
                
            </ul>
        </div>
    </div>
</nav>





<div class="title-group">
    <h1 class="special" data-toc-skip>
      <span>
          
            User documentation
          
      </span>
    </h1>
    
      Version 0.39
    
    
    <aside>
        
        
        <span>
            
            
                
                <a href="/emuStudio/docuser/brainduck/index/" role="button" class="btn btn-default active">
                    brainduck
                </a>
            
        </span>
        
        
        
        <span>
            
            
                <a href="/emuStudio/docuser/main_module/index/" role="button" class="btn btn-default">
                    main module
                </a>
            
        </span>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <span>
            
            
                <a href="/emuStudio/docuser/mits_altair_8800/index/" role="button" class="btn btn-default">
                    mits altair 8800
                </a>
            
        </span>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <span>
            
            
                <a href="/emuStudio/docuser/ram/index/" role="button" class="btn btn-default">
                    ram
                </a>
            
        </span>
        
        
        
        
        
        
        
        
        
        
        
        <span>
            
            
                <a href="/emuStudio/docuser/rasp/index/" role="button" class="btn btn-default">
                    rasp
                </a>
            
        </span>
        
        
        
        
        
        
        
        
        
        
        
        <span>
            
            
                <a href="/emuStudio/docuser/ssem/index/" role="button" class="btn btn-default">
                    ssem
                </a>
            
        </span>
        
        
    </aside>

    <script>
        $('#toc').on('affixed.bs.affix', function(){
            $(this).removeAttr('style');
        });
    </script>
    
</div>


<div class="container">
    <div class="row">
        <div id="sidebar" class="col-md-3 col-sm-3 col-lg-3">
            <nav id="toc" class="navbar" data-spy="affix" data-offset-top="230" data-toggle="toc"></nav>
        </div>
        <div class="col-md-9 col-sm-9 col-lg-9">
            
                <div class="sect1">
<h2 id="introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>BrainDuck is an abstract computer for emuStudio, which mimics <a href="http://en.wikipedia.org/wiki/Brainfuck">brainfuck</a>
programming language. Originally, brainfuck was developed by
<a href="http://esolangs.org/wiki/Urban_M%C3%BCller">Urban Miller</a> and it is well-known fact that the language
has minimalistic compiler and it&#8217;s eight instructions don&#8217;t prevent it to be Turing complete. Also,
there exist many extensions of the language and there are organized programming contests in
brainfuck worldwide. But all of that can be read at Wikipedia or at other sources.</p>
</div>
<div class="paragraph">
<p>BrainDuck architecture is just a name for virtual computer in emuStudio, and consists of these
plug-ins:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>brainc-brainduck</code>: Compiler of brainfuck language (original, without extensions)</p>
</li>
<li>
<p><code>brainduck-cpu</code>: Brainfuck emulator acting like CPU with two registers</p>
</li>
<li>
<p><code>brainduck-mem</code>: Virtual operating memory which holds both compiled brainfuck program and data</p>
</li>
<li>
<p><code>brainduck-terminal</code>: Virtual terminal for displaying the output and requesting for input.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All these plug-ins are free software, released under GNU GPL v2 license. The source code is freely
available online.</p>
</div>
<div class="paragraph">
<p>Implementation language is Java SE 8. The implementation technology of visual components is Java
Swing. All plug-ins use library <code>emuLib</code> version <code>9.0.0</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="XIB">2. Brief description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>BrainDuck is implemented as <a href="http://en.wikipedia.org/wiki/Von_Neumann_architecture">von Neumann architecture</a>. It implies that the program and data are shared in the single memory. This is not
a common approach of implementing brainfuck interpreters, and it might be changed in the future.</p>
</div>
<div class="paragraph">
<p>As implementing a brainfuck interpreter, one must deal with several <a href="http://en.wikipedia.org/wiki/Brainfuck#Portability_issues">portability issues</a>, which include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Memory cell size (solved in <code>brainduck-memory</code> and <code>brainduck-cpu</code>)</p>
</li>
<li>
<p>Memory size (number of memory cells) (solved in <code>brainduck-memory</code>)</p>
</li>
<li>
<p>End-of-line code (solved in <code>brainduck-terminal</code>)</p>
</li>
<li>
<p>End-of-file behavior (solved in <code>brainduck-cpu</code> and <code>brainduck-terminal</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The solution is spread across the plug-ins, as you can see in the parentheses. Chapters devoted
to plug-ins' description contain specific information.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="XII">3. Installation and run</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At first, please download and install emuStudio distribution. BrainDuck is already included and
ready for use.</p>
</div>
<div class="sect2">
<h3 id="XIID">3.1. Directory structure</h3>
<div class="paragraph">
<p>For further manipulation with BrainDuck-specific files, here&#8217;s the file organization in directories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>config/BrainDuck.conf</code>: configuration file of BrainDuck architecture. Can be edited in schema
editor of emuStudio</p>
</li>
<li>
<p><code>compilers/brainc-brainduck.jar</code>: BrainDuck compiler plug-in.</p>
</li>
<li>
<p><code>cpu/brainduck-cpu.jar</code>: BrainDuck emulator (CPU plug-in).</p>
</li>
<li>
<p><code>devices/brainduck-terminal.jar</code>: BrainDuck terminal device.</p>
</li>
<li>
<p><code>mem/brainduck-mem.jar</code>: BrainDuck operating memory plug-in.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>BrainDuck compiler (as many other compilers in emuStudio) depends on Java CUP parser runtime library,
which is located at <code>lib/java-cup-runtime-0.11a.jar</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="XIIS">3.2. Abstract schema</h3>
<div class="paragraph">
<p>In order to use BrainDuck, there must be drawn the abstract schema, saved in the configuration
file. Abstract schemas are drawn in the schema editor in emuStudio (please see emuStudio Main module
documentation for more details). The following image shows the schema of BrainDuck computer:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://vbmacher.github.io/emuStudio/images/brainduck-scheme.svg" alt="brainduck scheme" width="347" height="154">
</div>
</div>
<div class="paragraph">
<p>The "&#8594;" arrows are in direction of dependency. So for example <code>brainc-brainduck</code> depends on
<code>brainduck-mem</code>, because compiled programs are directly loaded into memory.</p>
</div>
<div class="paragraph">
<p>Between <code>brainduck-cpu</code> and <code>brainduck-terminal</code> exists bidirectional dependency, because input
gained from terminal is passed to the CPU, and output is pushed from CPU to the terminal.</p>
</div>
<div class="paragraph">
<p>Plug-in <code>brainduck-cpu</code> also depends on <code>brainduck-mem</code>, because memory is a place where program
and data are stored.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="compiler-code-brainc-brainduck-code">4. Compiler <code>brainc-brainduck</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>BrainDuck compiler is used as a part of BrainDuck computer, which acts as a translator of <strong>brainfuck</strong> "human-readable"
language into binary form, used by BrainDuck CPU. Those instructions and their binary codes have no relation
with brainfuck itself, therefore the computer is not called <strong>brainfuck computer</strong>, because it is <strong>not</strong> brainfuck.
But it does not mean you cannot write and run brainfuck programs in it :)</p>
</div>
<div class="paragraph">
<p>At first, each compiler, including BrainDuck compiler, provides lexical analyzer for help with tokenize of the source
code, used in syntax highlighting. Secondly, the compile <strong>compiles</strong> the source code into other (usually binary) form
which is then understood by CPU.</p>
</div>
<div class="paragraph">
<p>Compilation takes part by user request (clicking on 'compile' icon in the main window). After compilation is successful,
the compiler usually loads the translated program into operating memory, and saves the translation into a file. So it
is with BrainDuck compiler. Files have <code>.hex</code> extension.<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></p>
</div>
<div class="sect2">
<h3 id="XCI">4.1. Installation and run</h3>
<div class="paragraph">
<p>The compiler is provided as part of emuStudio. It is not deployed as individual package. The compiler can be found
in <code>compilers/</code> directory with name <code>brainc-brainduck.jar</code>.</p>
</div>
<div class="paragraph">
<p>The compiler can be run from command line, with command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>java -jar brainc-brainduck.jar [--output output_file.hex] [source_file.b]</pre>
</div>
</div>
<div class="paragraph">
<p>To query for more information, run the compiler with command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>java -jar brainc-brainduck.jar --help</pre>
</div>
</div>
<div class="paragraph">
<p>Using compiler in command line might be useful for emulation automation.</p>
</div>
</div>
<div class="sect2">
<h3 id="XCS">4.2. Language Syntax</h3>
<div class="paragraph">
<p>The language of BrainDuck compiler is almost identical with the original brainfuck. However, brainfuck interpreter is
not specified well-enough, so there are open questions how to treat with some special situations, which are described
below.</p>
</div>
<div class="paragraph">
<p>Generally, the language knows eight instructions. They are best described when they are compared with C language
equivalent. Brainfuck uses only single data pointer called <code>P</code>, pointing to bounded memory.<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</sup></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
BrainDuck architecture conforms to true von-Neumann model, instead of classic Harvard-style interpreters.
      It means that program memory and data memory are not separated. The data pointer is therefore not initialized
      to 0 as programmers might expect and potentially there can be written brainfuck programs with self-modifications.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-top grid-all spread table table-striped table-condensed">
<caption class="title">Table 1. Brainfuck instructions</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Brainfuck  instruction</th>
<th class="tableblock halign-left valign-top">C language equivalent</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>P++</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>P--</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>++*P</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--*P</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>,</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*P = getchar()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>putchar(*P);</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>while (*P) {</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>}</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The compiler is supplied with many example programms written in brainfuck.</p>
</div>
</div>
<div class="sect2">
<h3 id="XCD">4.3. Additional details</h3>
<div class="paragraph">
<p>As was said before, specification of brainfuck language or interpreter implementation is not complete. There are left
some details which might be solved differently in different implementations. In this version of BrainDuck implementation
in emuStudio, the details are solved in the fixed way, as described below.</p>
</div>
<div class="sect3">
<h4 id="XCDC">4.3.1. Comments</h4>
<div class="paragraph">
<p>The compiler takes as a comment everything which is not the brainfuck instruction. From the first occurence of
unknown character, everything to the end of the line is treated as comment. Exceptions are whitespaces, tabulators, and
newlines.<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnote_3" title="View footnote.">3</a>]</sup></p>
</div>
<div class="paragraph">
<p>In the following example, everything starting with <code>#</code> is treated as comment, up to end of the line.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>++++[-] # Useless program in brainfuck. [-] clears the content of the memory cell.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="XCDS">4.3.2. Cell size</h4>
<div class="paragraph">
<p>The memory cells are of 8-bit size (cells are bytes).</p>
</div>
</div>
<div class="sect3">
<h4 id="XCDS">4.3.3. Memory size</h4>
<div class="paragraph">
<p>The memory size is defined in <code>brainduck-mem</code> plug-in. In this version of emuStudio, it is 65536 cells.</p>
</div>
</div>
<div class="sect3">
<h4 id="XCDE">4.3.4. End-of-line code</h4>
<div class="paragraph">
<p>EOL is defined in <code>brainduck-terminal</code> plug-in. In the current version of emuStudio, it is a Newline character with
ASCII code 10.</p>
</div>
</div>
<div class="sect3">
<h4 id="XCDF">4.3.5. End-of-file behavior</h4>
<div class="paragraph">
<p>EOF is defined in <code>brainduck-cpu</code> and <code>brainduck-terminal</code> plug-ins. In the current version of emuStudio, current
cell (where <code>P</code> is pointing at) is changed to value 0.<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnote_4" title="View footnote.">4</a>]</sup></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cpu-code-brainduck-cpu-code">5. CPU <code>brainduck-cpu</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>BrainDuck CPU is used as a part of BrainDuck computer, which acts as the interpreter of BrainDuck
instructions. Those instructions correspond with brainfuck language.</p>
</div>
<div class="paragraph">
<p>Program which is going to be executed is read from the operating memory, so the CPU must be
connected with memory (<code>brainduck-mem</code>), in order to work properly.</p>
</div>
<div class="paragraph">
<p>Also, optionally (but commonly) it is should be connected with I/O device (<code>brainduck-terminal</code>),
so input/output can be received/send from/to the device. Only one device can be used.</p>
</div>
<div class="paragraph">
<p>The CPU provides basic user interface in the form of status panel, which is visible in the emulator
panel in the main window.</p>
</div>
<div class="paragraph">
<p>Breakpoints are supported, so as "jump" to specific location, which might be actually dangerous to use.</p>
</div>
<div class="sect2">
<h3 id="installation-and-run">5.1. Installation and run</h3>
<div class="paragraph">
<p>The BrainDuck CPU can be run only as a part of emuStudio. It is installed in location <code>cpu/brainduck-cpu.jar</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="status-panel">5.2. Status panel</h3>
<div class="paragraph">
<p>In the following image, you can see the status panel of <code>brainduck-cpu</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://vbmacher.github.io/emuStudio/docuser/brainduck/images//status-panel.png" alt="BrainDuck CPU status panel">
</div>
</div>
<div class="paragraph">
<p>It is split into three parts. Within 'Internal status' part, there is shown content of registers <code>IP</code> and <code>P</code>. Register
<code>IP</code> does not have counterpart in brainfuck. IP stands for "instruction pointer". The content is pointing at the next
instruction being executed. Register <code>P</code> is commonly known from brainfuck. It is pointer to data.</p>
</div>
<div class="paragraph">
<p>There is measured execution time, which is reset when user starts the program and stopped when either the program stops
or the user stops it.</p>
</div>
<div class="paragraph">
<p>Loop level shows the depth level of brainfuck loop the program is in. For example, if instruction pointer points
into middle of the program <code>[[-]]</code>, to the <code>-</code> instruction, loop level is 2.</p>
</div>
</div>
<div class="sect2">
<h3 id="running-brainfuck-programs">5.3. Running brainfuck programs</h3>
<div class="paragraph">
<p>It is very important to reset CPU after each source code compilation. The reason is that after compilation register
<code>P</code> is not changed. It therefore might point somewhere into compiled code in the memory. If the program was executed,
changes in data would corrupt the program itself.</p>
</div>
<div class="paragraph">
<p>Resetting CPU would move the <code>P</code> register after first occurrence of memory cell with value <code>0</code>. The value <code>0</code> in
BrainDuck CPU represents halt instruction, which corresponds to EOF in brainfuck.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="memory-code-brainduck-mem-code">6. Memory <code>brainduck-mem</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>BrainDuck memory is used as a part of BrainDuck computer, which acts as the operating memory, holding both of brainfuck
program and data.</p>
</div>
<div class="paragraph">
<p>BrainDuck CPU reads/writes instructions from/to the memory. Memory updates its cells and notifies debugger in emuStudio
about the update.</p>
</div>
<div class="paragraph">
<p>The memory plug-in contains simple graphical window, a GUI, which provides a set of the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>paginated view of memory cells, arranged into 16x16 table per page.</p>
</li>
<li>
<p>cells are displayed in hexadecimal form and can be changed directly by user.</p>
</li>
<li>
<p>there are hard-coded 256 pages, so the memory size is 256 * (16x16) = 64 kB</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="XMI">6.1. Installation and run</h3>
<div class="paragraph">
<p>The BrainDuck memory can be run only as a part of emuStudio. It is installed in location
<code>mem/brainduck-mem.jar</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="XMG">6.2. Graphical user interface (GUI)</h3>
<div class="paragraph">
<p>In the following screenshot, it is possible to see GUI of <code>brainduck-mem</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://vbmacher.github.io/emuStudio/docuser/brainduck/images//brainduck-mem.png" alt="BrainDuck memory window">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>A</strong>: Shows actually displayed page. Can be edited manually by entering a number and pressing ENTER key</p>
</li>
<li>
<p><strong>B</strong>: By double-clicking on a memory cell, the cell editor is enabled and user can overwrite the content of the cell.
Supported number formats are decimal or hexadecimal. Hexadecimal number must begin with <code>0x</code> prefix.</p>
</li>
<li>
<p><strong>C</strong>: By clicking on button <code>Page down</code>, the page number is increased; button <code>Page up</code> decreases the page number.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="terminal-code-brainduck-terminal-code">7. Terminal <code>brainduck-terminal</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>BrainDuck terminal is used as a part of BrainDuck computer, which acts as an interactive console, or generally
interactive input/output provider. It was written with support of GUI, but can be used also in emulation automation,
in which case it loads input from the file and output to another file.</p>
</div>
<div class="paragraph">
<p>Supported features are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>monospace font, unlimited width and height, white background</p>
</li>
<li>
<p>blinking cursor simulation</p>
</li>
<li>
<p>keyboard input; binary codes can be entered with special dialog</p>
</li>
<li>
<p>terminal interprets some special characters like 0x8 (backspace), 0x9 (tab), 0xA (LF), and 0x10 (CR)</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="XTI">7.1. Installation and run</h3>
<div class="paragraph">
<p>The BrainDuck terminal can be run only as a part of emuStudio. It is installed in location
<code>devices/brainduck-terminal.jar</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="XTG">7.2. Graphical User Interface (GUI)</h3>
<div class="paragraph">
<p>In the following image, BrainDuck terminal window is shown:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://vbmacher.github.io/emuStudio/docuser/brainduck/images//brainduck-terminal.png" alt="BrainDuck terminal window">
</div>
</div>
<div class="paragraph">
<p>It&#8217;s easy and simple. BrainDuck CPU as it interprets <code>.</code> (dot) instructions, it sends the output to this terminal and it is
displayed on screen.</p>
</div>
<div class="paragraph">
<p>Input cannot be entered anytime. In brainfuck, input is requested through <code>,</code> instruction. Only when CPU encounters
<code>,</code> (comma) instruction, user is asked to enter input. This situation is marked with geen icon in the bottom-left corner:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://vbmacher.github.io/emuStudio/docuser/brainduck/images//brainduck-terminal-input.png" alt="Input is enabled in BrainDuck terminal window">
</div>
</div>
<div class="paragraph">
<p>Next to the icon, there is a blue "ASC" button. This button can be used for entering binary values as input.
Special little dialog will appear asking user to enter space-separated numbers, representing ASCII codes of the input.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The terminal do not display characters with ASCII codes less than 32. Only some special characters are interpreted:
      0x8 (backspace), 0x9 (tab), 0xA (LF), and 0x10 (CR)
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="emulation-automation">8. Emulation automation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>BrainDuck is one of computers which allows automatic emulation. It means that it is possible to run the emulation from
command line, while all necessary input and output is redirected from/to files. If user interaction is necessary, it is
possible to run an interactive automation.</p>
</div>
<div class="paragraph">
<p>Suppose the BrainDuck computer is represented by abstract schema shown in <code>brainduck-intro</code> document. In that
case, BrainDuck terminal is the only device dealing with I/O. If the emulation was executed in automatic non-interactive
mode, it will recognize it and the input/output will be redirected from/to files.</p>
</div>
<div class="paragraph">
<p>Input file is called <code>brainduck-terminal.in</code> and must be placed in the directory from which emuStudio was executed.
If the file does not exist, emuStudio will not run.</p>
</div>
<div class="paragraph">
<p>Output file is called <code>brainduck-terminal.out</code> and it will be created automatically, or appended when it exists in the location
from which emuStudio was executed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Take care about end-of-line characters. Most of brainfuck programs count with Unix-like EOLs,
      i.e. characters with ASCII code 10. Plug-in <code>brainduck-terminal</code> interprets ENTER key in
      the interactive mode as Unix-like EOL. In the non-interactive mode, EOL may be of any-like type.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Command line for starting non-interactive automatic emulation:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>java -jar emuStudio.jar --config BrainDuck --input examples/brainc-brainduck/mandelbrot.b --output compiler.out --auto --nogui</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>configuration <code>config/BrainDuck.conf</code> will be loaded</p>
</li>
<li>
<p>input file for compiler is one of the examples</p>
</li>
<li>
<p>compiler messages will be redirected to file <code>compiler.out</code></p>
</li>
<li>
<p>(<code>--auto</code>) automatic emulation mode will be performed</p>
</li>
<li>
<p>(<code>--nogui</code>) non-interactive version will be set</p>
</li>
</ul>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. Intel HEX format, for more info see <a href="http://en.wikipedia.org/wiki/Intel_HEX" class="bare">http://en.wikipedia.org/wiki/Intel_HEX</a>
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. The boundary is specified in <code>brainduck-mem</code> plug-in
</div>
<div class="footnote" id="_footnote_3">
<a href="#_footnoteref_3">3</a>. This practically means that it is impossible to write brainfuck program with syntax errors.
</div>
<div class="footnote" id="_footnote_4">
<a href="#_footnoteref_4">4</a>. This is not how original brainfuck behaves, which is doing no change to the cell on EOF
</div>
</div>
            
        </div>
    </div>
</div>


    <footer class="site-footer">
        <div class="container">
            <nav class="navbar">
                <div class="container">
                    <ul class="nav navbar-nav">
                        <li><a href="https://github.com/vbmacher/emuStudio">GitHub</a></li>
                        <li><a href="https://sourceforge.net/p/emustudio/" rel="nofollow"><img alt="Download emuStudio" src="https://sourceforge.net/sflogo.php?type=10&group_id=340604"></a></li>
                        <li class="navbar-text">&copy; Copyright 2006-2017, Peter Jakubƒço</li>
                    </ul>
                </div>
            </nav>
        </div>
    </footer>

    </body>
</html>

